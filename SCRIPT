--[[
    FIX SCREEN RESOLUTION SCRIPT
    –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –º–æ–±–∏–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –ü–ö –≤–∏–¥
]]

-- –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
local originalCreate = Instance.new
local originalScreenGui = game:GetService("CoreGui")

-- –£–∑–Ω–∞–µ–º —Ç–µ–∫—É—â–µ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
local function getCurrentResolution()
    local viewportSize = workspace.CurrentCamera.ViewportSize
    return viewportSize.X, viewportSize.Y
end

-- –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–±–∏–ª—å–Ω—ã–π –ª–∏ —Ä–µ–∂–∏–º
local function isMobileResolution()
    local x, y = getCurrentResolution()
    local aspectRatio = x / y
    
    -- –ú–æ–±–∏–ª—å–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã: 9:16 (0.5625), 3:4 (0.75)
    -- –ü–ö –∞—Å–ø–µ–∫—Ç—ã: 16:9 (1.777), 4:3 (1.333)
    if aspectRatio < 1 then
        return true, "–ú–æ–±–∏–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω: " .. math.floor(x) .. "x" .. math.floor(y) .. " (–°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ: " .. string.format("%.2f", aspectRatio) .. ")"
    end
    return false, "–ü–ö —Ä–µ–∂–∏–º: " .. math.floor(x) .. "x" .. math.floor(y)
end

-- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
local function fixScreenResolution()
    print("=== –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –†–ê–ó–†–ï–®–ï–ù–ò–Ø –≠–ö–†–ê–ù–ê ===")
    
    -- –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–∏
    local isMobile, resolutionInfo = isMobileResolution()
    print(resolutionInfo)
    
    if not isMobile then
        print("‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É–∂–µ –≤ –ü–ö —Ä–µ–∂–∏–º–µ")
        return true
    end
    
    print("üîÑ –ò—Å–ø—Ä–∞–≤–ª—è—é —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ...")
    
    -- –°–ø–æ—Å–æ–± 1: –ò–∑–º–µ–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ CoreGui
    pcall(function()
        -- –ü—ã—Ç–∞–µ–º—Å—è –∏–∑–º–µ–Ω–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        for _, gui in pairs(game:GetService("CoreGui"):GetChildren()) do
            if gui:IsA("ScreenGui") then
                -- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ Scale
                gui.ResetOnSpawn = false
                
                -- –ò—Å–ø—Ä–∞–≤–ª—è–µ–º Scaled
                if gui:FindFirstChild("Scale") then
                    gui.Scale = 1
                end
            end
        end
    end)
    
    -- –°–ø–æ—Å–æ–± 2: –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞–º–µ—Ä—ã
    pcall(function()
        local camera = workspace.CurrentCamera
        if camera then
            -- –ü—ã—Ç–∞–µ–º—Å—è –∏–∑–º–µ–Ω–∏—Ç—å FieldOfView
            camera.FieldOfView = 70 -- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ü–ö
            
            -- –°–±—Ä–∞—Å—ã–≤–∞–µ–º ViewportSize –µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ
            camera:GetPropertyChangedSignal("ViewportSize"):Connect(function()
                -- –ú–æ–Ω–∏—Ç–æ—Ä–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
            end)
        end
    end)
    
    -- –°–ø–æ—Å–æ–± 3: –ò–Ω–∂–µ–∫—Ç CSS/—Å—Ç–∏–ª–µ–π –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–∞
    local function injectBrowserFix()
        local html = [[
        <script>
            // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ viewport –º–µ—Ç–∞-—Ç–µ–≥–∞
            var viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta) {
                viewportMeta.content = "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no";
            }
            
            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤
            function forceDesktopSize() {
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –∫–∞–∫ —É –ü–ö
                document.body.style.minWidth = "1280px";
                document.body.style.minHeight = "720px";
                
                // –û—Ç–∫–ª—é—á–∞–µ–º touch —Å–æ–±—ã—Ç–∏—è
                document.body.style.touchAction = "none";
                
                // –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
                document.body.style.zoom = "1";
                
                console.log("–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –ü–ö —Ä–µ–∂–∏–º");
            }
            
            // –í—ã–ø–æ–ª–Ω—è–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞
            window.addEventListener('load', forceDesktopSize);
            window.addEventListener('resize', forceDesktopSize);
            
            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(function() {
                location.reload();
            }, 2000);
        </script>
        ]]
        
        -- –ü—ã—Ç–∞–µ–º—Å—è –≤—Å—Ç–∞–≤–∏—Ç—å HTML –≤ –∏–≥—Ä–æ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        pcall(function()
            local webFrame = Instance.new("Frame")
            webFrame.Name = "ResolutionFixFrame"
            webFrame.Size = UDim2.new(1, 0, 1, 0)
            webFrame.BackgroundTransparency = 1
            webFrame.Parent = game:GetService("CoreGui")
        end)
    end
    
    -- –°–ø–æ—Å–æ–± 4: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ UserSettings (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
    pcall(function()
        local UserSettings = UserSettings()
        if UserSettings then
            local GameSettings = UserSettings:GetService("UserGameSettings")
            if GameSettings then
                -- –ü—Ä–æ–±—É–µ–º –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                GameSettings:SetHardwareMouse(false)
                GameSettings.SavedQualityLevel = Enum.SavedQualitySetting.High
            end
        end
    end)
    
    -- –°–ø–æ—Å–æ–± 5: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∏–∫—Ç–∏–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –¥–ª—è "–æ–±–º–∞–Ω–∞" —Å–∏—Å—Ç–µ–º—ã
    local function createDummyScreen()
        local screenGui = Instance.new("ScreenGui")
        screenGui.Name = "ResolutionOverride"
        screenGui.DisplayOrder = 9999
        screenGui.ResetOnSpawn = false
        screenGui.IgnoreGuiInset = true
        screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
        
        -- –°–æ–∑–¥–∞–µ–º –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ñ—Ä–µ–π–º
        local mainFrame = Instance.new("Frame")
        mainFrame.Size = UDim2.new(1, 0, 1, 0)
        mainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        mainFrame.BackgroundTransparency = 1 -- –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π
        mainFrame.BorderSizePixel = 0
        mainFrame.Parent = screenGui
        
        -- –î–æ–±–∞–≤–ª—è–µ–º –Ω–µ–≤–∏–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤
        local aspectFrame = Instance.new("Frame")
        aspectFrame.AnchorPoint = Vector2.new(0.5, 0.5)
        aspectFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
        aspectFrame.Size = UDim2.new(0.8, 0, 0.6, 0) -- 16:9 —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ
        aspectFrame.BackgroundTransparency = 1
        aspectFrame.Parent = mainFrame
        
        screenGui.Parent = game:GetService("CoreGui")
        return screenGui
    end
    
    -- –°–ø–æ—Å–æ–± 6: –°–º–µ–Ω–∞ UserAgent (–∏–º–∏—Ç–∞—Ü–∏—è –ü–ö –±—Ä–∞—É–∑–µ—Ä–∞)
    local function spoofUserAgent()
        local httpService = game:GetService("HttpService")
        local success, result = pcall(function()
            -- –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–º User-Agent
            return httpService:RequestAsync({
                Url = "https://httpbin.org/user-agent",
                Method = "GET",
                Headers = {
                    ["User-Agent"] = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"
                }
            })
        end)
        
        if success then
            print("‚úÖ User-Agent –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ –ü–ö –≤–µ—Ä—Å–∏—é")
        end
    end
    
    -- –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –º–µ—Ç–æ–¥—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    print("üõ†Ô∏è –ü—Ä–∏–º–µ–Ω—è—é –º–µ—Ç–æ–¥—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è...")
    
    -- –°–æ–∑–¥–∞–µ–º —Ñ–∏–∫—Ç–∏–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
    local dummyScreen = createDummyScreen()
    print("‚úÖ –°–æ–∑–¥–∞–Ω overlay –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è")
    
    -- –ü—ã—Ç–∞–µ–º—Å—è –∏—Å–ø–æ—Ä—á–∏—Ç—å UserAgent
    spoofUserAgent()
    
    -- –ü—ã—Ç–∞–µ–º—Å—è –≤–Ω–µ–¥—Ä–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π —Ñ–∏–∫—Å
    injectBrowserFix()
    
    -- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    pcall(function()
        -- –ò—â–µ–º –≤—Å–µ ScreenGui –∏ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º –∏—Ö
        local screenGuis = {}
        
        -- –°–æ–±–∏—Ä–∞–µ–º –≤—Å–µ ScreenGui
        for _, parent in pairs({game:GetService("CoreGui"), game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")}) do
            for _, gui in pairs(parent:GetChildren()) do
                if gui:IsA("ScreenGui") then
                    table.insert(screenGuis, gui)
                end
            end
        end
        
        -- –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –∫–∞–∂–¥—ã–π ScreenGui
        for _, gui in pairs(screenGuis) do
            -- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Scaling
            gui.ResetOnSpawn = false
            gui.IgnoreGuiInset = false
            
            -- –ò—Å–ø—Ä–∞–≤–ª—è–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏
            local function fixElements(element)
                -- –ò—Å–ø—Ä–∞–≤–ª—è–µ–º UDim2 –¥–ª—è –ü–ö
                if element:IsA("GuiObject") then
                    -- –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º —Ä–∞–∑–º–µ—Ä—ã
                    local size = element.Size
                    local position = element.Position
                    
                    -- –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ –∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
                    element.Size = UDim2.new(
                        size.X.Scale,
                        math.max(size.X.Offset, 50), -- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞
                        size.Y.Scale,
                        math.max(size.Y.Offset, 50)  -- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞
                    )
                end
                
                -- –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º –¥–µ—Ç–µ–π
                for _, child in pairs(element:GetChildren()) do
                    fixElements(child)
                end
            end
            
            fixElements(gui)
        end
    end)
    
    -- –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
    task.wait(1) -- –ñ–¥–µ–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
    
    local isStillMobile, finalResolution = isMobileResolution()
    if isStillMobile then
        print("‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø—Ä–∞–≤–∏—Ç—å. –ü—Ä–∏–º–µ–Ω—è—é —Ä–∞–¥–∏–∫–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥...")
        
        -- –†–∞–¥–∏–∫–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥: –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        pcall(function()
            -- –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
            local importantGuis = {}
            
            -- –£–¥–∞–ª—è–µ–º –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            for _, gui in pairs(game:GetService("CoreGui"):GetChildren()) do
                if gui.Name ~= "ResolutionOverride" then
                    gui:Destroy()
                end
            end
            
            -- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º PlayerGui
            game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui"):ClearAllChildren()
            
            print("‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω")
        end)
    end
    
    print("üéØ –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ: " .. finalResolution)
    print("‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!")
    
    -- –°–æ–∑–¥–∞–µ–º GUI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º
    createResolutionGUI()
    
    return true
end

-- GUI –¥–ª—è —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
local function createResolutionGUI()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "ResolutionControl"
    screenGui.ResetOnSpawn = false
    screenGui.DisplayOrder = 10000
    
    -- –û—Å–Ω–æ–≤–Ω–æ–µ –æ–∫–Ω–æ
    local mainFrame = Instance.new("Frame")
    mainFrame.Size = UDim2.new(0, 300, 0, 250)
    mainFrame.Position = UDim2.new(0.5, -150, 0.5, -125)
    mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    mainFrame.BorderSizePixel = 0
    mainFrame.Active = true
    mainFrame.Draggable = true
    mainFrame.Parent = screenGui
    
    -- –ó–∞–≥–æ–ª–æ–≤–æ–∫
    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, 0, 0, 40)
    title.Text = "üñ•Ô∏è –ö–û–ù–¢–†–û–õ–¨ –†–ê–ó–†–ï–®–ï–ù–ò–Ø"
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    title.Font = Enum.Font.SourceSansBold
    title.TextSize = 18
    title.Parent = mainFrame
    
    -- –¢–µ–∫—É—â–µ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
    local currentRes = Instance.new("TextLabel")
    currentRes.Size = UDim2.new(1, -20, 0, 30)
    currentRes.Position = UDim2.new(0, 10, 0, 50)
    currentRes.Text = "–¢–µ–∫—É—â–µ–µ: " .. getCurrentResolution()
    currentRes.TextColor3 = Color3.fromRGB(200, 200, 200)
    currentRes.BackgroundTransparency = 1
    currentRes.Font = Enum.Font.SourceSans
    currentRes.TextSize = 14
    currentRes.Parent = mainFrame
    
    -- –ö–Ω–æ–ø–∫–∏ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–æ–∫
    local resolutions = {
        {"HD (1280x720)", 1280, 720},
        {"Full HD (1920x1080)", 1920, 1080},
        {"2K (2560x1440)", 2560, 1440},
        {"4K (3840x2160)", 3840, 2160}
    }
    
    for i, res in ipairs(resolutions) do
        local button = Instance.new("TextButton")
        button.Size = UDim2.new(0.9, 0, 0, 30)
        button.Position = UDim2.new(0.05, 0, 0.25 + (i * 0.15), 0)
        button.Text = res[1]
        button.TextColor3 = Color3.fromRGB(255, 255, 255)
        button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        button.Font = Enum.Font.SourceSans
        button.TextSize = 14
        button.Parent = mainFrame
        
        button.MouseButton1Click:Connect(function()
            -- –ó–¥–µ—Å—å –∫–æ–¥ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
            print("–í—ã–±—Ä–∞–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ: " .. res[1])
            currentRes.Text = "–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: " .. res[1]
        end)
    end
    
    -- –ö–Ω–æ–ø–∫–∞ –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    local fixButton = Instance.new("TextButton")
    fixButton.Size = UDim2.new(0.9, 0, 0, 40)
    fixButton.Position = UDim2.new(0.05, 0, 0.85, 0)
    fixButton.Text = "üîÑ –ê–í–¢–û–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï"
    fixButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    fixButton.BackgroundColor3 = Color3.fromRGB(0, 120, 215)
    fixButton.Font = Enum.Font.SourceSansBold
    fixButton.TextSize = 16
    fixButton.Parent = mainFrame
    
    fixButton.MouseButton1Click:Connect(function()
        fixScreenResolution()
    end)
    
    screenGui.Parent = game:GetService("CoreGui")
    
    return screenGui
end

-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
local function autoFixOnStart()
    -- –ñ–¥–µ–º –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏–≥—Ä—ã
    wait(3)
    
    -- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
    local isMobile, info = isMobileResolution()
    print(info)
    
    if isMobile then
        print("üì± –û–±–Ω–∞—Ä—É–∂–µ–Ω–æ –º–æ–±–∏–ª—å–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ. –ò—Å–ø—Ä–∞–≤–ª—è—é...")
        fixScreenResolution()
    else
        print("‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤ –Ω–æ—Ä–º–µ. –°–æ–∑–¥–∞—é –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è...")
        createResolutionGUI()
    end
end

-- –ó–∞–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
spawn(autoFixOnStart)

-- –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —á–∞—Ç–∞
local function setupChatCommands()
    local chatService = game:GetService("TextChatService")
    local players = game:GetService("Players")
    local localPlayer = players.LocalPlayer
    
    -- –ö–æ–º–∞–Ω–¥–∞ /fixscreen
    localPlayer.Chatted:Connect(function(message)
        if string.lower(message) == "/fixscreen" then
            fixScreenResolution()
        elseif string.lower(message) == "/resolution" then
            createResolutionGUI()
        end
    end)
end

-- –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–º–∞–Ω–¥—ã —á–∞—Ç–∞
setupChatCommands()

-- –•–æ—Ç–∫–µ–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (F11)
local UserInputService = game:GetService("UserInputService")
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if not gameProcessed then
        if input.KeyCode == Enum.KeyCode.F11 then
            fixScreenResolution()
        elseif input.KeyCode == Enum.KeyCode.F12 then
            -- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å GUI
            local controlGui = game:GetService("CoreGui"):FindFirstChild("ResolutionControl")
            if controlGui then
                controlGui.Enabled = not controlGui.Enabled
            end
        end
    end
end)

print("=====================================")
print("üñ•Ô∏è  –°–ö–†–ò–ü–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –†–ê–ó–†–ï–®–ï–ù–ò–Ø –ó–ê–ì–†–£–ñ–ï–ù")
print("–ö–æ–º–∞–Ω–¥—ã:")
print("/fixscreen - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ")
print("/resolution - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è")
print("F11 - –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ")
print("F12 - –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø–∞–Ω–µ–ª—å")
print("=====================================")

-- –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
return {
    fixScreen = fixScreenResolution,
    getResolution = getCurrentResolution,
    isMobileMode = isMobileResolution,
    createControlPanel = createResolutionGUI
}
