-- SWILL Orb ESP System v1.0
-- Advanced ESP –¥–ª—è Orbs –∏ –ø–æ–¥–æ–±–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤

local SWILL = {
    Version = "1.0",
    Status = "ACTIVE",
    Debug = true
}

if not (executor and executor ~= "Unknown") then
    SWILL.Log("–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: Executor –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω", true)
    return
end

function SWILL.Log(msg, isError)
    local prefix = isError and "[SWILL:ERROR]" or "[SWILL:INFO]"
    print(prefix .. " " .. msg)
    
    if isError and SWILL.Debug then
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "SWILL ESP System Error",
            Text = msg,
            Duration = 5,
            Icon = "rbxassetid://134012325"
        })
    end
end

SWILL.Log("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Orb ESP System v" .. SWILL.Version, false)

-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ESP
local ESP_CONFIG = {
    Enabled = true,
    MaxDistance = 5000, -- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
    CheckInterval = 0.5, -- –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
    RefreshRate = 0.05, -- –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ESP
    
    -- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Orbs
    OrbSettings = {
        BoxColor = Color3.fromRGB(0, 255, 0), -- –ó–µ–ª–µ–Ω—ã–π –¥–ª—è Orbs
        TextColor = Color3.fromRGB(255, 255, 255),
        TracerColor = Color3.fromRGB(255, 255, 0),
        Thickness = 1,
        Transparency = 0.7
    },
    
    -- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–ª–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞
    TargetNames = {
        "Orb", "Orbs", "Orib", "Orb_", "_Orb", 
        "Coin", "Coins", "Token", "Tokens",
        "Crystal", "Crystals", "Gem", "Gems",
        "XP", "Experience", "Drop", "Loot",
        "Treasure", "Powerup", "Pickup"
    },
    
    -- –¢–∏–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞
    TargetClasses = {
        "Part", "MeshPart", "UnionOperation", "Model",
        "SphereHandleAdornment", "ClickDetector", "ProximityPrompt"
    }
}

-- –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫—ç—à
local ESP_CACHE = {
    Orbs = {},
    ESPObjects = {},
    Connections = {},
    Running = true
}

-- –£—Ç–∏–ª–∏—Ç—ã
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

-- –°–æ–∑–¥–∞–Ω–∏–µ ESP —ç–ª–µ–º–µ–Ω—Ç–æ–≤
function SWILL.CreateESP(object, objectType)
    if not object or not object:IsDescendantOf(workspace) then return nil end
    if ESP_CACHE.ESPObjects[object] then return ESP_CACHE.ESPObjects[object] end
    
    local esp = {
        Object = object,
        Type = objectType or "Orb",
        Main = nil,
        Label = nil,
        Tracer = nil,
        Box = nil,
        DistanceLabel = nil
    }
    
    -- –û—Å–Ω–æ–≤–Ω–æ–π Adornment –¥–ª—è ESP
    esp.Main = Instance.new("BillboardGui")
    esp.Main.Name = "SWILL_ESP_" .. object.Name
    esp.Main.Adornee = object:IsA("Model") and object.PrimaryPart or object
    esp.Main.Size = UDim2.new(4, 0, 1, 0)
    esp.Main.StudsOffset = Vector3.new(0, 3, 0)
    esp.Main.AlwaysOnTop = true
    esp.Main.MaxDistance = ESP_CONFIG.MaxDistance
    esp.Main.Enabled = ESP_CONFIG.Enabled
    
    -- –§–æ–Ω–æ–≤–∞—è —Ä–∞–º–∫–∞
    esp.Box = Instance.new("Frame")
    esp.Box.Name = "Box"
    esp.Box.Size = UDim2.new(1, 0, 0.3, 0)
    esp.Box.Position = UDim2.new(0, 0, 0, 0)
    esp.Box.BackgroundColor3 = ESP_CONFIG.OrbSettings.BoxColor
    esp.Box.BackgroundTransparency = ESP_CONFIG.OrbSettings.Transparency
    esp.Box.BorderSizePixel = 0
    esp.Box.Parent = esp.Main
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 4)
    corner.Parent = esp.Box
    
    -- –ú–µ—Ç–∫–∞ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º
    esp.Label = Instance.new("TextLabel")
    esp.Label.Name = "Label"
    esp.Label.Size = UDim2.new(1, 0, 1, 0)
    esp.Label.Position = UDim2.new(0, 0, 0, 0)
    esp.Label.BackgroundTransparency = 1
    esp.Label.TextColor3 = ESP_CONFIG.OrbSettings.TextColor
    esp.Label.Text = object.Name .. " [" .. objectType .. "]"
    esp.Label.TextSize = 14
    esp.Label.Font = Enum.Font.GothamBold
    esp.Label.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    esp.Label.TextStrokeTransparency = 0.3
    esp.Label.Parent = esp.Main
    
    -- –ú–µ—Ç–∫–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
    esp.DistanceLabel = Instance.new("TextLabel")
    esp.DistanceLabel.Name = "DistanceLabel"
    esp.DistanceLabel.Size = UDim2.new(1, 0, 0.5, 0)
    esp.DistanceLabel.Position = UDim2.new(0, 0, 0.3, 0)
    esp.DistanceLabel.BackgroundTransparency = 1
    esp.DistanceLabel.TextColor3 = Color3.fromRGB(255, 255, 0)
    esp.DistanceLabel.Text = "0 studs"
    esp.DistanceLabel.TextSize = 11
    esp.DistanceLabel.Font = Enum.Font.Gotham
    esp.DistanceLabel.TextStrokeTransparency = 0.4
    esp.DistanceLabel.Parent = esp.Main
    
    -- –õ–∏–Ω–∏—è-—Ç—Ä–∞—Å—Å–µ—Ä –∫ –æ–±—ä–µ–∫—Ç—É
    if object:IsA("BasePart") or (object:IsA("Model") and object.PrimaryPart) then
        esp.Tracer = Instance.new("LineHandleAdornment")
        esp.Tracer.Name = "SWILL_Tracer"
        esp.Tracer.Adornee = workspace.Terrain
        esp.Tracer.Color3 = ESP_CONFIG.OrbSettings.TracerColor
        esp.Tracer.Thickness = ESP_CONFIG.OrbSettings.Thickness
        esp.Tracer.Transparency = ESP_CONFIG.OrbSettings.Transparency
        esp.Tracer.ZIndex = 10
        esp.Tracer.Visible = false
        esp.Tracer.Parent = Camera
    end
    
    -- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—á–µ–Ω–∏—è –¥–ª—è Orb
    if string.find(string.lower(object.Name), "orb") then
        local glow = Instance.new("PointLight")
        glow.Name = "SWILL_Glow"
        glow.Color = ESP_CONFIG.OrbSettings.BoxColor
        glow.Range = 15
        glow.Brightness = 1
        glow.Shadows = false
        glow.Parent = object:IsA("Model") and object.PrimaryPart or object
    end
    
    esp.Main.Parent = Camera
    ESP_CACHE.ESPObjects[object] = esp
    
    SWILL.Log("ESP —Å–æ–∑–¥–∞–Ω –¥–ª—è: " .. object.Name .. " (" .. objectType .. ")", false)
    return esp
end

-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π ESP
function SWILL.UpdateESP()
    for obj, esp in pairs(ESP_CACHE.ESPObjects) do
        if not obj or not obj:IsDescendantOf(workspace) then
            SWILL.DestroyESP(obj)
            continue
        end
        
        local character = LocalPlayer.Character
        local humanoidRootPart = character and character:FindFirstChild("HumanoidRootPart")
        
        if esp.Main and esp.Main.Parent then
            -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é
            local distance = 9999
            if humanoidRootPart then
                local objectPos = obj:IsA("Model") and obj.PrimaryPart and obj.PrimaryPart.Position or obj.Position
                distance = (humanoidRootPart.Position - objectPos).Magnitude
                esp.Main.Enabled = distance <= ESP_CONFIG.MaxDistance
            end
            
            -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è
            if esp.DistanceLabel then
                esp.DistanceLabel.Text = string.format("%.0f studs", distance)
                
                -- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é
                if distance < 50 then
                    esp.DistanceLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
                elseif distance < 150 then
                    esp.DistanceLabel.TextColor3 = Color3.fromRGB(255, 255, 0)
                else
                    esp.DistanceLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
                end
            end
            
            -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞—Å—Å–µ—Ä–∞
            if esp.Tracer and humanoidRootPart then
                local screenPos, onScreen = Camera:WorldToViewportPoint(humanoidRootPart.Position)
                local objectPos = obj:IsA("Model") and obj.PrimaryPart and obj.PrimaryPart.Position or obj.Position
                local objectScreenPos = Camera:WorldToViewportPoint(objectPos)
                
                if onScreen then
                    esp.Tracer.Visible = true
                    esp.Tracer.Length = (humanoidRootPart.Position - objectPos).Magnitude
                    esp.Tracer.CFrame = CFrame.new(humanoidRootPart.Position, objectPos)
                else
                    esp.Tracer.Visible = false
                end
            end
            
            -- –ü—É–ª—å—Å–∞—Ü–∏—è –¥–ª—è Orbs
            if string.find(string.lower(obj.Name), "orb") then
                local time = tick()
                local pulse = math.sin(time * 3) * 0.1 + 0.9
                esp.Box.BackgroundTransparency = 1 - (ESP_CONFIG.OrbSettings.Transparency * pulse)
            end
        end
    end
end

-- –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ ESP
function SWILL.DestroyESP(object)
    if ESP_CACHE.ESPObjects[object] then
        local esp = ESP_CACHE.ESPObjects[object]
        
        if esp.Main then
            esp.Main:Destroy()
        end
        if esp.Tracer then
            esp.Tracer:Destroy()
        end
        
        ESP_CACHE.ESPObjects[object] = nil
        SWILL.Log("ESP —É–Ω–∏—á—Ç–æ–∂–µ–Ω –¥–ª—è: " .. object.Name, false)
    end
end

-- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ Orbs –∏ –ø–æ–¥–æ–±–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
function SWILL.FindOrbs(parent)
    local found = {}
    
    local function deepSearch(obj)
        if not obj or ESP_CACHE.Orbs[obj] then return end
        
        -- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∏–º–µ–Ω–∏
        local name = string.lower(obj.Name)
        for _, targetName in ipairs(ESP_CONFIG.TargetNames) do
            if string.find(name, string.lower(targetName)) then
                table.insert(found, {Object = obj, Type = targetName})
                ESP_CACHE.Orbs[obj] = true
                break
            end
        end
        
        -- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∫–ª–∞—Å—Å—É
        for _, className in ipairs(ESP_CONFIG.TargetClasses) do
            if obj:IsA(className) then
                -- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
                if className == "ProximityPrompt" then
                    if string.find(string.lower(obj.Name), "orb") or 
                       string.find(string.lower(obj.Name), "collect") then
                        table.insert(found, {Object = obj, Type = "Collectible"})
                        ESP_CACHE.Orbs[obj] = true
                    end
                elseif className == "ClickDetector" then
                    if obj.Parent and (string.find(string.lower(obj.Parent.Name), "orb") or
                       string.find(string.lower(obj.Parent.Name), "coin")) then
                        table.insert(found, {Object = obj.Parent, Type = "Clickable"})
                        ESP_CACHE.Orbs[obj.Parent] = true
                    end
                end
            end
        end
        
        -- –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥
        for _, child in ipairs(obj:GetChildren()) do
            deepSearch(child)
        end
    end
    
    deepSearch(parent)
    return found
end

-- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–∞–∂–Ω—ã—Ö –º–µ—Å—Ç
function SWILL.ScanAllLocations()
    local locations = {
        workspace,
        game:GetService("ReplicatedStorage"),
        game:GetService("ServerScriptService"),
        game:GetService("ServerStorage"),
        game:GetService("Lighting"),
        game:GetService("StarterPack"),
        game:GetService("StarterPlayer"):GetChildren(),
        game:GetService("StarterGui")
    }
    
    local allFound = {}
    
    for _, location in ipairs(locations) do
        if location then
            local found = SWILL.FindOrbs(location)
            for _, item in ipairs(found) do
                table.insert(allFound, item)
            end
        end
    end
    
    -- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –≤ –¥–µ–∫–æ—Ä–∞—Ü–∏—è—Ö
    for _, descendant in ipairs(workspace:GetDescendants()) do
        if descendant:IsA("Part") and descendant.Material == Enum.Material.Neon then
            if descendant.Color == Color3.fromRGB(0, 255, 0) or 
               descendant.Color == Color3.fromRGB(255, 255, 0) or
               descendant.Color == Color3.fromRGB(0, 255, 255) then
                if not ESP_CACHE.Orbs[descendant] then
                    table.insert(allFound, {Object = descendant, Type = "NeonObject"})
                    ESP_CACHE.Orbs[descendant] = true
                end
            end
        end
    end
    
    SWILL.Log("–ù–∞–π–¥–µ–Ω–æ –æ–±—ä–µ–∫—Ç–æ–≤: " .. #allFound, false)
    return allFound
end

-- –°–æ–∑–¥–∞–Ω–∏–µ UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ESP
function SWILL.CreateControlUI()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "SWILL_ESP_Controls"
    screenGui.DisplayOrder = 1000
    screenGui.ResetOnSpawn = false
    
    local mainFrame = Instance.new("Frame")
    mainFrame.Size = UDim2.new(0, 250, 0, 300)
    mainFrame.Position = UDim2.new(0, 10, 0, 10)
    mainFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 30)
    mainFrame.BackgroundTransparency = 0.1
    mainFrame.BorderSizePixel = 0
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 12)
    corner.Parent = mainFrame
    
    -- –ó–∞–≥–æ–ª–æ–≤–æ–∫
    local title = Instance.new("TextLabel")
    title.Text = "üéØ SWILL Orb ESP v" .. SWILL.Version
    title.TextColor3 = Color3.fromRGB(0, 255, 255)
    title.TextSize = 16
    title.Font = Enum.Font.GothamBold
    title.BackgroundTransparency = 1
    title.Size = UDim2.new(1, 0, 0, 30)
    title.Position = UDim2.new(0, 0, 0, 5)
    title.Parent = mainFrame
    
    -- –ö–Ω–æ–ø–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è/–≤—ã–∫–ª—é—á–µ–Ω–∏—è ESP
    local toggleButton = Instance.new("TextButton")
    toggleButton.Text = "ESP: ON"
    toggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    toggleButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
    toggleButton.Size = UDim2.new(0.8, 0, 0, 35)
    toggleButton.Position = UDim2.new(0.1, 0, 0, 40)
    toggleButton.Parent = mainFrame
    
    local toggleCorner = Instance.new("UICorner")
    toggleCorner.CornerRadius = UDim.new(0, 8)
    toggleCorner.Parent = toggleButton
    
    toggleButton.MouseButton1Click:Connect(function()
        ESP_CONFIG.Enabled = not ESP_CONFIG.Enabled
        toggleButton.Text = ESP_CONFIG.Enabled and "ESP: ON" or "ESP: OFF"
        toggleButton.BackgroundColor3 = ESP_CONFIG.Enabled and Color3.fromRGB(0, 200, 0) 
                                                  or Color3.fromRGB(200, 0, 0)
        
        for _, esp in pairs(ESP_CACHE.ESPObjects) do
            if esp.Main then
                esp.Main.Enabled = ESP_CONFIG.Enabled
            end
        end
    end)
    
    -- –°–ª–∞–π–¥–µ—Ä –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏
    local distanceLabel = Instance.new("TextLabel")
    distanceLabel.Text = "–î–∏—Å—Ç–∞–Ω—Ü–∏—è ESP: " .. ESP_CONFIG.MaxDistance .. " studs"
    distanceLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    distanceLabel.TextSize = 12
    distanceLabel.BackgroundTransparency = 1
    distanceLabel.Size = UDim2.new(0.8, 0, 0, 20)
    distanceLabel.Position = UDim2.new(0.1, 0, 0, 85)
    distanceLabel.Parent = mainFrame
    
    local distanceSlider = Instance.new("TextBox")
    distanceSlider.Text = tostring(ESP_CONFIG.MaxDistance)
    distanceSlider.TextColor3 = Color3.fromRGB(255, 255, 255)
    distanceSlider.BackgroundColor3 = Color3.fromRGB(40, 40, 60)
    distanceSlider.Size = UDim2.new(0.8, 0, 0, 30)
    distanceSlider.Position = UDim2.new(0.1, 0, 0, 110)
    distanceSlider.Parent = mainFrame
    
    local sliderCorner = Instance.new("UICorner")
    sliderCorner.CornerRadius = UDim.new(0, 6)
    sliderCorner.Parent = distanceSlider
    
    distanceSlider.FocusLost:Connect(function()
        local value = tonumber(distanceSlider.Text)
        if value and value > 0 and value <= 10000 then
            ESP_CONFIG.MaxDistance = value
            distanceLabel.Text = "–î–∏—Å—Ç–∞–Ω—Ü–∏—è ESP: " .. value .. " studs"
        else
            distanceSlider.Text = tostring(ESP_CONFIG.MaxDistance)
        end
    end)
    
    -- –ö–Ω–æ–ø–∫–∞ —Ä—É—á–Ω–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
    local scanButton = Instance.new("TextButton")
    scanButton.Text = "üîç –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ"
    scanButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    scanButton.BackgroundColor3 = Color3.fromRGB(52, 152, 219)
    scanButton.Size = UDim2.new(0.8, 0, 0, 35)
    scanButton.Position = UDim2.new(0.1, 0, 0, 155)
    scanButton.Parent = mainFrame
    
    local scanCorner = Instance.new("UICorner")
    scanCorner.CornerRadius = UDim.new(0, 8)
    scanCorner.Parent = scanButton
    
    scanButton.MouseButton1Click:Connect(function()
        SWILL.Log("–ó–∞–ø—É—Å–∫ —Ä—É—á–Ω–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è...", false)
        local found = SWILL.ScanAllLocations()
        
        for _, item in ipairs(found) do
            if not ESP_CACHE.ESPObjects[item.Object] then
                SWILL.CreateESP(item.Object, item.Type)
            end
        end
    end)
    
    -- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    local statsLabel = Instance.new("TextLabel")
    statsLabel.Text = "–û–±—ä–µ–∫—Ç–æ–≤ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è: 0"
    statsLabel.TextColor3 = Color3.fromRGB(255, 255, 0)
    statsLabel.TextSize = 12
    statsLabel.BackgroundTransparency = 1
    statsLabel.Size = UDim2.new(0.8, 0, 0, 20)
    statsLabel.Position = UDim2.new(0.1, 0, 0, 200)
    statsLabel.Parent = mainFrame
    
    -- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    spawn(function()
        while task.wait(1) do
            local count = 0
            for _ in pairs(ESP_CACHE.ESPObjects) do
                count = count + 1
            end
            statsLabel.Text = "–û–±—ä–µ–∫—Ç–æ–≤ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è: " .. count
        end
    end)
    
    -- –ö–Ω–æ–ø–∫–∞ –æ—á–∏—Å—Ç–∫–∏
    local clearButton = Instance.new("TextButton")
    clearButton.Text = "üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å ESP"
    clearButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    clearButton.BackgroundColor3 = Color3.fromRGB(231, 76, 60)
    clearButton.Size = UDim2.new(0.8, 0, 0, 35)
    clearButton.Position = UDim2.new(0.1, 0, 0, 230)
    clearButton.Parent = mainFrame
    
    local clearCorner = Instance.new("UICorner")
    clearCorner.CornerRadius = UDim.new(0, 8)
    clearCorner.Parent = clearButton
    
    clearButton.MouseButton1Click:Connect(function()
        for obj in pairs(ESP_CACHE.ESPObjects) do
            SWILL.DestroyESP(obj)
        end
        ESP_CACHE.ESPObjects = {}
        ESP_CACHE.Orbs = {}
        SWILL.Log("–í—Å–µ ESP –æ—á–∏—â–µ–Ω—ã", false)
    end)
    
    screenGui.Parent = Camera
    return screenGui
end

-- –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã ESP
function SWILL.StartESPSystem()
    SWILL.Log("–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã Orb ESP...", false)
    
    -- –°–æ–∑–¥–∞–Ω–∏–µ UI —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
    SWILL.CreateControlUI()
    
    -- –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
    local initialOrbs = SWILL.ScanAllLocations()
    for _, orb in ipairs(initialOrbs) do
        SWILL.CreateESP(orb.Object, orb.Type)
    end
    
    -- –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π
    local updateConnection
    updateConnection = RunService.RenderStepped:Connect(function(deltaTime)
        if ESP_CACHE.Running then
            SWILL.UpdateESP()
        end
    end)
    
    ESP_CACHE.Connections.Update = updateConnection
    
    -- –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
    spawn(function()
        while ESP_CACHE.Running do
            task.wait(ESP_CONFIG.CheckInterval)
            
            local newOrbs = SWILL.ScanAllLocations()
            for _, orb in ipairs(newOrbs) do
                if not ESP_CACHE.ESPObjects[orb.Object] then
                    SWILL.CreateESP(orb.Object, orb.Type)
                end
            end
        end
    end)
    
    -- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ—è–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ Workspace
    local workspaceConnection
    workspaceConnection = workspace.DescendantAdded:Connect(function(descendant)
        task.wait(0.1) -- –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–∞
        
        local name = string.lower(descendant.Name)
        for _, targetName in ipairs(ESP_CONFIG.TargetNames) do
            if string.find(name, string.lower(targetName)) then
                if not ESP_CACHE.ESPObjects[descendant] then
                    SWILL.CreateESP(descendant, "New" .. targetName)
                end
                break
            end
        end
    end)
    
    ESP_CACHE.Connections.Workspace = workspaceConnection
    
    SWILL.Log("–°–∏—Å—Ç–µ–º–∞ Orb ESP —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω–∞", false)
    
    -- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "üéØ SWILL ESP System",
        Text = "Orb ESP –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ.",
        Duration = 5,
        Icon = "rbxassetid://4456172367"
    })
end

-- –§—É–Ω–∫—Ü–∏—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º—ã
function SWILL.StopESPSystem()
    ESP_CACHE.Running = false
    
    -- –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
    for name, connection in pairs(ESP_CACHE.Connections) do
        if connection then
            connection:Disconnect()
        end
    end
    
    -- –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö ESP –æ–±—ä–µ–∫—Ç–æ–≤
    for obj in pairs(ESP_CACHE.ESPObjects) do
        SWILL.DestroyESP(obj)
    end
    
    -- –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
    ESP_CACHE.ESPObjects = {}
    ESP_CACHE.Orbs = {}
    ESP_CACHE.Connections = {}
    
    SWILL.Log("–°–∏—Å—Ç–µ–º–∞ Orb ESP –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞", false)
end

-- –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
task.wait(1)
SWILL.StartESPSystem()

-- –≠–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
_G.SWILL_ESP = {
    Start = SWILL.StartESPSystem,
    Stop = SWILL.StopESPSystem,
    Rescan = function()
        SWILL.ScanAllLocations()
        for orb in pairs(ESP_CACHE.Orbs) do
            if not ESP_CACHE.ESPObjects[orb] then
                SWILL.CreateESP(orb, "Rescanned")
            end
        end
    end,
    AddTarget = function(targetName)
        table.insert(ESP_CONFIG.TargetNames, targetName)
    end,
    GetTargetCount = function()
        local count = 0
        for _ in pairs(ESP_CACHE.ESPObjects) do
            count = count + 1
        end
        return count
    end
}

SWILL.Log("Orb ESP System –≥–æ—Ç–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ _G.SWILL_ESP –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.", false)
