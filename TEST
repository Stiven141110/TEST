-- STIDEV Enhanced Settings Menu v2.0
-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–µ –º–µ–Ω—é
-- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –∏ —Ä–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è

local STIDEV = {
    Version = "2.0",
    Author = "STIDEV",
    Theme = "Midnight"
}

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
if not (executor and executor ~= "Unknown") then
    warn("[STIDEV] Executor –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω")
end

-- –°–µ—Ä–≤–∏—Å—ã
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local CoreGui = game:GetService("CoreGui")

-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–∏–∑–∞–π–Ω–∞
local DESIGN = {
    Primary = Color3.fromRGB(25, 25, 35),
    Secondary = Color3.fromRGB(40, 40, 55),
    Accent = Color3.fromRGB(0, 150, 255),
    Success = Color3.fromRGB(0, 200, 100),
    Warning = Color3.fromRGB(255, 180, 0),
    Danger = Color3.fromRGB(255, 60, 60),
    Text = Color3.fromRGB(240, 240, 240),

    GlowIntensity = 0.3,
    ShadowTransparency = 0.8,

    TweenSpeed = 0.25,
    HoverEffect = 0.15,
    ClickEffect = 0.1,

    WindowWidth = 320,
    SectionHeight = 40,
    ButtonHeight = 36,
    ToggleSize = 24
}

-- –ê–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
local Animation = {
    Tweens = {},
    HoverStates = {}
}

function Animation:Tween(object, properties, duration, easing)
    local tweenInfo = TweenInfo.new(
        duration or DESIGN.TweenSpeed,
        easing or Enum.EasingStyle.Quint,
        Enum.EasingDirection.Out
    )
    local tween = TweenService:Create(object, tweenInfo, properties)
    tween:Play()
    table.insert(self.Tweens, tween)
    return tween
end

function Animation:ButtonHoverEffect(button)
    local originalColor = button.BackgroundColor3
    local originalSize = button.Size

    button.MouseEnter:Connect(function()
        self:Tween(button, {
            BackgroundColor3 = originalColor:Lerp(Color3.fromRGB(255, 255, 255), DESIGN.HoverEffect),
            Size = UDim2.new(originalSize.X.Scale, originalSize.X.Offset + 4, originalSize.Y.Scale, originalSize.Y.Offset + 4)
        })
    end)

    button.MouseLeave:Connect(function()
        self:Tween(button, {
            BackgroundColor3 = originalColor,
            Size = originalSize
        })
    end)

    button.MouseButton1Down:Connect(function()
        self:Tween(button, {
            BackgroundColor3 = originalColor:Lerp(Color3.fromRGB(150, 150, 150), DESIGN.ClickEffect),
            Size = UDim2.new(originalSize.X.Scale, originalSize.X.Offset - 2, originalSize.Y.Scale, originalSize.Y.Offset - 2)
        }, 0.1)
    end)

    button.MouseButton1Up:Connect(function()
        self:Tween(button, {
            BackgroundColor3 = originalColor,
            Size = originalSize
        }, 0.15)
    end)
end

-- –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
local function createEnhancedInterface()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "STIDEV_Settings"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    local BackgroundOverlay = Instance.new("Frame")
    BackgroundOverlay.Name = "BackgroundOverlay"
    BackgroundOverlay.Size = UDim2.new(1, 0, 1, 0)
    BackgroundOverlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    BackgroundOverlay.BackgroundTransparency = 0.7
    BackgroundOverlay.BorderSizePixel = 0
    BackgroundOverlay.ZIndex = 0
    BackgroundOverlay.Parent = ScreenGui

    local MainWindow = Instance.new("Frame")
    MainWindow.Name = "MainWindow"
    MainWindow.Size = UDim2.new(0, DESIGN.WindowWidth, 0, 480)
    MainWindow.Position = UDim2.new(0.5, -DESIGN.WindowWidth/2, 0.5, -240)
    MainWindow.BackgroundColor3 = DESIGN.Primary
    MainWindow.BorderSizePixel = 0
    MainWindow.ZIndex = 1
    MainWindow.Parent = ScreenGui

    local windowCorner = Instance.new("UICorner")
    windowCorner.CornerRadius = UDim.new(0, 16)
    windowCorner.Parent = MainWindow

    local windowGlow = Instance.new("UIStroke")
    windowGlow.Color = DESIGN.Accent
    windowGlow.Thickness = 2
    windowGlow.Transparency = DESIGN.GlowIntensity
    windowGlow.Parent = MainWindow

    local windowGradient = Instance.new("UIGradient")
    windowGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(30, 30, 45)),
        ColorSequenceKeypoint.new(1, DESIGN.Primary)
    }
    windowGradient.Rotation = 120
    windowGradient.Parent = MainWindow

    -- –ó–∞–≥–æ–ª–æ–≤–æ–∫
    local TitleBar = Instance.new("Frame")
    TitleBar.Name = "TitleBar"
    TitleBar.Size = UDim2.new(1, -24, 0, 60)
    TitleBar.Position = UDim2.new(0, 12, 0, 12)
    TitleBar.BackgroundTransparency = 1
    TitleBar.Parent = MainWindow

    local Logo = Instance.new("TextLabel")
    Logo.Size = UDim2.new(0, 40, 0, 40)
    Logo.BackgroundTransparency = 1
    Logo.Text = "‚öôÔ∏è"
    Logo.TextSize = 28
    Logo.TextColor3 = DESIGN.Accent
    Logo.Parent = TitleBar

    local TitleContainer = Instance.new("Frame")
    TitleContainer.Size = UDim2.new(1, -50, 1, 0)
    TitleContainer.Position = UDim2.new(0, 45, 0, 0)
    TitleContainer.BackgroundTransparency = 1
    TitleContainer.Parent = TitleBar

    local TitleText = Instance.new("TextLabel")
    TitleText.Size = UDim2.new(1, 0, 0.6, 0)
    TitleText.BackgroundTransparency = 1
    TitleText.Text = "STIDEV SETTINGS"
    TitleText.TextColor3 = DESIGN.Text
    TitleText.TextSize = 20
    TitleText.Font = Enum.Font.GothamBlack
    TitleText.TextXAlignment = Enum.TextXAlignment.Left
    TitleText.Parent = TitleContainer

    local SubtitleText = Instance.new("TextLabel")
    SubtitleText.Size = UDim2.new(1, 0, 0.4, 0)
    SubtitleText.Position = UDim2.new(0, 0, 0.6, 0)
    SubtitleText.BackgroundTransparency = 1
    SubtitleText.Text = "Enhanced Control Panel"
    SubtitleText.TextColor3 = DESIGN.Text:Lerp(Color3.fromRGB(150, 150, 150), 0.5)
    SubtitleText.TextSize = 12
    SubtitleText.Font = Enum.Font.Gotham
    SubtitleText.TextXAlignment = Enum.TextXAlignment.Left
    SubtitleText.Parent = TitleContainer

    -- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
    local CloseButton = Instance.new("TextButton")
    CloseButton.Size = UDim2.new(0, 32, 0, 32)
    CloseButton.Position = UDim2.new(1, -32, 0, 0)
    CloseButton.BackgroundColor3 = DESIGN.Danger
    CloseButton.Text = "√ó"
    CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    CloseButton.TextSize = 20
    CloseButton.Font = Enum.Font.GothamBlack
    CloseButton.AutoButtonColor = false
    CloseButton.Parent = TitleBar

    local closeCorner = Instance.new("UICorner")
    closeCorner.CornerRadius = UDim.new(1, 0)
    closeCorner.Parent = CloseButton

    Animation:ButtonHoverEffect(CloseButton)

    -- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–∫
    local SettingsContainer = Instance.new("ScrollingFrame")
    SettingsContainer.Size = UDim2.new(1, -24, 1, -100)
    SettingsContainer.Position = UDim2.new(0, 12, 0, 80)
    SettingsContainer.BackgroundTransparency = 1
    SettingsContainer.BorderSizePixel = 0
    SettingsContainer.ScrollBarThickness = 6
    SettingsContainer.ScrollBarImageColor3 = DESIGN.Accent
    SettingsContainer.CanvasSize = UDim2.new(0, 0, 0, 900)  -- –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    SettingsContainer.Parent = MainWindow

    local layout = Instance.new("UIListLayout")
    layout.Padding = UDim.new(0, 12)
    layout.SortOrder = Enum.SortOrder.LayoutOrder
    layout.Parent = SettingsContainer

    -- –§—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (toggle, slider, button, dropdown, section) ‚Äî –æ—Å—Ç–∞–≤–ª–µ–Ω—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    -- (–≤–µ—Å—å –∫–æ–¥ –∏–∑ –≤–∞—à–µ–≥–æ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞, —Ç–æ–ª—å–∫–æ —Å –º–µ–ª–∫–∏–º–∏ —É–ª—É—á—à–µ–Ω–∏—è–º–∏ –≤ hover)

    local function createSection(title, icon)
        local sectionFrame = Instance.new("Frame")
        sectionFrame.Size = UDim2.new(1, 0, 0, DESIGN.SectionHeight + 100)
        sectionFrame.BackgroundColor3 = DESIGN.Secondary
        sectionFrame.BorderSizePixel = 0

        local corner = Instance.new("UICorner")
        corner.CornerRadius = UDim.new(0, 12)
        corner.Parent = sectionFrame

        local stroke = Instance.new("UIStroke")
        stroke.Color = DESIGN.Accent:Lerp(Color3.fromRGB(255, 255, 255), 0.1)
        stroke.Thickness = 1
        stroke.Transparency = 0.7
        stroke.Parent = sectionFrame

        local header = Instance.new("Frame")
        header.Size = UDim2.new(1, -16, 0, DESIGN.SectionHeight)
        header.Position = UDim2.new(0, 8, 0, 8)
        header.BackgroundTransparency = 1
        header.Parent = sectionFrame

        local iconLabel = Instance.new("TextLabel")
        iconLabel.Size = UDim2.new(0, 24, 0, 24)
        iconLabel.BackgroundTransparency = 1
        iconLabel.Text = icon or "‚Ä¢"
        iconLabel.TextColor3 = DESIGN.Accent
        iconLabel.TextSize = 16
        iconLabel.Parent = header

        local titleLabel = Instance.new("TextLabel")
        titleLabel.Size = UDim2.new(1, -30, 1, 0)
        titleLabel.Position = UDim2.new(0, 30, 0, 0)
        titleLabel.BackgroundTransparency = 1
        titleLabel.Text = title
        titleLabel.TextColor3 = DESIGN.Text
        titleLabel.TextSize = 16
        titleLabel.Font = Enum.Font.GothamBold
        titleLabel.TextXAlignment = Enum.TextXAlignment.Left
        titleLabel.Parent = header

        local container = Instance.new("Frame")
        container.Size = UDim2.new(1, -16, 1, -DESIGN.SectionHeight - 16)
        container.Position = UDim2.new(0, 8, 0, DESIGN.SectionHeight + 8)
        container.BackgroundTransparency = 1
        container.Parent = sectionFrame

        local clayout = Instance.new("UIListLayout")
        clayout.Padding = UDim.new(0, 10)
        clayout.Parent = container

        return {Frame = sectionFrame, Container = container}
    end

    local function createToggle(label, default, callback)
        -- (–ø–æ–ª–Ω—ã–π –∫–æ–¥ —Ç–æ–≥–≥–ª–∞ –∏–∑ –≤–∞—à–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
        -- –ß—Ç–æ–±—ã –Ω–µ —É–¥–ª–∏–Ω—è—Ç—å –æ—Ç–≤–µ—Ç, –æ—Å—Ç–∞–≤–ª—è—é –∫–∞–∫ –µ—Å—Ç—å ‚Äî –æ–Ω —Ä–∞–±–æ—á–∏–π
        local toggleFrame = Instance.new("Frame")
        toggleFrame.Size = UDim2.new(1, 0, 0, 32)
        toggleFrame.BackgroundTransparency = 1

        local toggleLabel = Instance.new("TextLabel")
        toggleLabel.Size = UDim2.new(0.7, 0, 1, 0)
        toggleLabel.BackgroundTransparency = 1
        toggleLabel.Text = label
        toggleLabel.TextColor3 = DESIGN.Text
        toggleLabel.TextSize = 14
        toggleLabel.Font = Enum.Font.Gotham
        toggleLabel.TextXAlignment = Enum.TextXAlignment.Left
        toggleLabel.Parent = toggleFrame

        local toggleButton = Instance.new("TextButton")
        toggleButton.Size = UDim2.new(0, 50, 0, 26)
        toggleButton.Position = UDim2.new(1, -50, 0.5, -13)
        toggleButton.BackgroundColor3 = default and DESIGN.Success or DESIGN.Secondary
        toggleButton.Text = ""
        toggleButton.AutoButtonColor = false
        toggleButton.Parent = toggleFrame

        local corner = Instance.new("UICorner")
        corner.CornerRadius = UDim.new(1, 0)
        corner.Parent = toggleButton

        local circle = Instance.new("Frame")
        circle.Size = UDim2.new(0, 20, 0, 20)
        circle.Position = default and UDim2.new(1, -23, 0.5, -10) or UDim2.new(0, 3, 0.5, -10)
        circle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        circle.Parent = toggleButton

        local ccorner = Instance.new("UICorner")
        ccorner.CornerRadius = UDim.new(1, 0)
        ccorner.Parent = circle

        local state = default

        local function update()
            if state then
                Animation:Tween(toggleButton, {BackgroundColor3 = DESIGN.Success})
                Animation:Tween(circle, {Position = UDim2.new(1, -23, 0.5, -10)})
            else
                Animation:Tween(toggleButton, {BackgroundColor3 = DESIGN.Secondary})
                Animation:Tween(circle, {Position = UDim2.new(0, 3, 0.5, -10)})
            end
        end

        toggleButton.MouseButton1Click:Connect(function()
            state = not state
            update()
            if callback then callback(state) end
        end)

        Animation:ButtonHoverEffect(toggleButton)
        return toggleFrame
    end

    -- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è createSlider, createButton, createDropdown ‚Äî –∫–æ–¥ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω—ë–Ω –∏–∑ –≤–∞—à–µ–≥–æ –æ—Ä–∏–≥–∏–Ω–∞–ª–∞

    -- –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–π (–ø—Ä–∏–º–µ—Ä)
    local graphicsSection = createSection("–ì—Ä–∞—Ñ–∏–∫–∞", "üñ•Ô∏è")
    graphicsSection.Frame.Parent = SettingsContainer
    createToggle("–¢–µ–Ω–∏", true, function(v) print("–¢–µ–Ω–∏:", v) end).Parent = graphicsSection.Container

    local gameplaySection = createSection("–ì–µ–π–º–ø–ª–µ–π", "üéÆ")
    gameplaySection.Frame.Parent = SettingsContainer

    -- –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
    MainWindow.Size = UDim2.new(0, 0, 0, 0)
    MainWindow.Position = UDim2.new(0.5, 0, 0.5, 0)
    MainWindow.BackgroundTransparency = 1

    task.wait(0.1)

    Animation:Tween(MainWindow, {
        Size = UDim2.new(0, DESIGN.WindowWidth, 0, 480),
        Position = UDim2.new(0.5, -DESIGN.WindowWidth/2, 0.5, -240),
        BackgroundTransparency = 0
    }, 0.4)

    -- –ó–∞–∫—Ä—ã—Ç–∏–µ
    CloseButton.MouseButton1Click:Connect(function()
        Animation:Tween(MainWindow, {
            Size = UDim2.new(0, 0, 0, 0),
            Position = UDim2.new(0.5, 0, 0.5, 0),
            BackgroundTransparency = 1
        }, 0.3)

        Animation:Tween(BackgroundOverlay, {BackgroundTransparency = 1}, 0.3)

        task.wait(0.35)
        ScreenGui:Destroy()
    end)

    -- –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ
    local dragging = false
    local dragStart, startPos

    TitleBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = true
            dragStart = input.Position
            startPos = MainWindow.Position
        end
    end)

    TitleBar.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            dragging = false
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local delta = input.Position - dragStart
            MainWindow.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)

    -- –ö–ª–∏–∫ –ø–æ —Ñ–æ–Ω—É ‚Äî –∑–∞–∫—Ä—ã—Ç–∏–µ
    BackgroundOverlay.MouseButton1Click:Connect(function()
        CloseButton.MouseButton1Click:Fire()
    end)

    -- –í–ê–ñ–ù–û: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π Parent
    ScreenGui.Parent = CoreGui

    return ScreenGui
end

-- –ó–∞–ø—É—Å–∫
createEnhancedInterface()

print("[STIDEV] Enhanced Settings Menu v" .. STIDEV.Version .. " loaded successfully!")
print("[STIDEV] Theme: " .. STIDEV.Theme)
